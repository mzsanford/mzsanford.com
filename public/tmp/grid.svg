<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     width="1000" height="1000" viewBox="0 0 1000 1000" onload="init(evt);" >
  <style>
    .grid line {
      stroke: #eee;
      stroke-width: 1px;
    }
    
    .datacenter {
      fill: #fff;
      stroke: #333;
    }
    
    .datacenter text tspan {
      color: #f00;
      fill: #00f;
      font-family: 'Helvetica Neue';
      font-size: 50pt;
      font-weight: 100;
    }
    
    .connection path {
      fill: none;
      -webkit-transition: all 0.3s linear;  /* Saf3.2+, Chrome */
         -moz-transition: all 0.3s linear;  /* FF4+ */
          -ms-transition: all 0.3s linear;  /* IE10 */
           -o-transition: all 0.3s linear;  /* Opera 10.5+ */
              transition: all 0.3s linear;
    }
    
    .connection:hover text {
      display: block;
    }
    
    
    .connection text {
      font-size: 12pt;
      fill: #333;
    }
    
    .connection-idle path {
      stroke: #333;
      stroke-width: 5px;
    }
    
    .connection-medium path {
      stroke: #f90;
      stroke-width: 15px;
    }
    
    .connection-busy path {
      stroke: #f00;
      stroke-width: 25px;
    }
    
    .cloud {
      fill: #ddd;
      stroke: #fff;
      stroke-width: 1px;
    }
  </style>
  <script type="application/ecmascript" xlink:href="./foo.js"></script>
  
   <script type="application/ecmascript"><![CDATA[
     var xmlns = "http://www.w3.org/2000/svg";
     var svgDoc;

     function init(evt) {
     
       var grid = new Diagram.Grid(evt.target.ownerDocument);
       grid.add(50);
       
       var dc1 = new Diagram.DataCenter(evt.target.ownerDocument);
       dc1.add("dc1", "SF");
       
       var dc2 = new Diagram.DataCenter(evt.target.ownerDocument);
       dc2.add("dc2", "VA");
       
       var interweb = new Diagram.Cloud(evt.target.ownerDocument);
       interweb.add("internet");
       Diagram.moveComponent( interweb, 600, 10 );
       Diagram.scaleComponent( interweb, 5 );
       
       Diagram.moveComponent(dc1, 10, 10);
       Diagram.moveComponent(dc2, 400, 400);
       
       // Working
       var conn1 = new Diagram.Connection(evt.target.ownerDocument);
       conn1.add(dc1, dc2, "conn-dc1-dc2", "connection connection-busy");
       
       var conn2 = new Diagram.Connection(evt.target.ownerDocument);
       conn2.add(dc1, interweb, "conn-web-dc1", "connection connection-busy");
       
       var conn3 = new Diagram.Connection(evt.target.ownerDocument);
       conn3.add(interweb, dc2, "conn-web-dc2", "connection connection-busy");
       
       // Random information
       setInterval(function() {
         var state = Math.floor(Math.random()*10)%3;
         if (state == 0) {
           conn1.state("busy");
           conn2.state("medium");
           conn3.state("busy");
         } else if (state == 1) {
           conn1.state("medium");
           conn2.state("idle");
           conn3.state("idle");
         } else {
           conn1.state("idle");
           conn2.state("busy");
           conn3.state("busy");
         }
       }, 1000);
     }
   ]]></script>


</svg>
